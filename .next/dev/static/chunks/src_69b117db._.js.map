{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/preet_hpydpxe/Downloads/team-1/src/components/BusSeatLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface BusSeatLayoutProps {\r\n  rows?: number;\r\n  leftSeats?: number;\r\n  rightSeats?: number;\r\n  onSelectSeat: (seatNumber: number) => void;\r\n  selectedSeatNumber?: number | null;\r\n}\r\n\r\nexport default function BusSeatLayout({\r\n  rows = 8,\r\n  leftSeats = 2,\r\n  rightSeats = 3,\r\n  onSelectSeat,\r\n  selectedSeatNumber,\r\n}: BusSeatLayoutProps) {\r\n  return (\r\n    <div className=\"flex flex-col items-center gap-6\">\r\n      <h2 className=\"text-xl font-semibold\">Bus Seat Layout</h2>\r\n\r\n      <div className=\"rounded-2xl bg-gray-100 p-6 shadow-lg\">\r\n        <div className=\"flex flex-col gap-4\">\r\n          {Array.from({ length: rows }).map((_, rowIdx) => {\r\n            let seatNumber = rowIdx * (leftSeats + rightSeats) + 1;\r\n            return (\r\n              <div key={rowIdx} className=\"flex items-center gap-6\">\r\n                {/* Left side seats */}\r\n                <div className=\"flex gap-3\">\r\n                  {Array.from({ length: leftSeats }).map(() => {\r\n                    const current = seatNumber++;\r\n                    const seatPos = current % 2 === 1 ? \"L\" : \"R\";\r\n                    return (\r\n                      <Seat\r\n                        key={current}\r\n                        number={current}\r\n                        position={seatPos}\r\n                        selected={selectedSeatNumber === current}\r\n                        onClick={() => onSelectSeat(current)}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                {/* Aisle */}\r\n                <div className=\"w-8\" />\r\n\r\n                {/* Right side seats */}\r\n                <div className=\"flex gap-3\">\r\n                  {Array.from({ length: rightSeats }).map(() => {\r\n                    const current = seatNumber++;\r\n                    const seatPos = \"R\";\r\n                    return (\r\n                      <Seat\r\n                        key={current}\r\n                        number={current}\r\n                        position={seatPos}\r\n                        selected={selectedSeatNumber === current}\r\n                        onClick={() => onSelectSeat(current)}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {selectedSeatNumber && (\r\n        <div className=\"text-sm text-blue-600 font-medium\">\r\n          Selected seat: {selectedSeatNumber}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface SeatProps {\r\n  number: number;\r\n  selected: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nfunction Seat({ number, selected, onClick }: SeatProps) {\r\n  return (\r\n    <motion.button\r\n      whileHover={{ scale: 1.1 }}\r\n      whileTap={{ scale: 0.95 }}\r\n      onClick={onClick}\r\n      className={`h-12 w-12 rounded-xl text-sm font-medium shadow-md transition-all\r\n        ${\r\n          selected\r\n            ? \"bg-blue-600 text-white\"\r\n            : \"bg-white hover:bg-blue-100\"\r\n        }`}\r\n    >\r\n      {number}\r\n    </motion.button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAae,SAAS,cAAc,EACpC,OAAO,CAAC,EACR,YAAY,CAAC,EACb,aAAa,CAAC,EACd,YAAY,EACZ,kBAAkB,EACC;IACnB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACZ,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAK,GAAG,GAAG,CAAC,CAAC,GAAG;wBACpC,IAAI,aAAa,SAAS,CAAC,YAAY,UAAU,IAAI;wBACrD,qBACE,6LAAC;4BAAiB,WAAU;;8CAE1B,6LAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ;oCAAU,GAAG,GAAG,CAAC;wCACrC,MAAM,UAAU;wCAChB,MAAM,UAAU,UAAU,MAAM,IAAI,MAAM;wCAC1C,qBACE,6LAAC;4CAEC,QAAQ;4CACR,UAAU;4CACV,UAAU,uBAAuB;4CACjC,SAAS,IAAM,aAAa;2CAJvB;;;;;oCAOX;;;;;;8CAIF,6LAAC;oCAAI,WAAU;;;;;;8CAGf,6LAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ;oCAAW,GAAG,GAAG,CAAC;wCACtC,MAAM,UAAU;wCAChB,MAAM,UAAU;wCAChB,qBACE,6LAAC;4CAEC,QAAQ;4CACR,UAAU;4CACV,UAAU,uBAAuB;4CACjC,SAAS,IAAM,aAAa;2CAJvB;;;;;oCAOX;;;;;;;2BAnCM;;;;;oBAuCd;;;;;;;;;;;YAIH,oCACC,6LAAC;gBAAI,WAAU;;oBAAoC;oBACjC;;;;;;;;;;;;;AAK1B;KAlEwB;AA0ExB,SAAS,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAa;IACpD,qBACE,6LAAC,uMAAM,CAAC,MAAM;QACZ,YAAY;YAAE,OAAO;QAAI;QACzB,UAAU;YAAE,OAAO;QAAK;QACxB,SAAS;QACT,WAAW,CAAC;QACV,EACE,WACI,2BACA,8BACJ;kBAEH;;;;;;AAGP;MAhBS"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/preet_hpydpxe/Downloads/team-1/src/components/NotificationContainer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Notification {\r\n  id: string;\r\n  message: string;\r\n  type: \"success\" | \"error\" | \"info\";\r\n  duration?: number;\r\n}\r\n\r\ninterface NotificationContainerProps {\r\n  notifications: Notification[];\r\n  onRemove: (id: string) => void;\r\n}\r\n\r\nexport default function NotificationContainer({\r\n  notifications,\r\n  onRemove,\r\n}: NotificationContainerProps) {\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-50 flex flex-col gap-3\">\r\n      <AnimatePresence mode=\"popLayout\">\r\n        {notifications.map((notification) => (\r\n          <Notification\r\n            key={notification.id}\r\n            notification={notification}\r\n            onRemove={onRemove}\r\n          />\r\n        ))}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Notification({\r\n  notification,\r\n  onRemove,\r\n}: {\r\n  notification: Notification;\r\n  onRemove: (id: string) => void;\r\n}) {\r\n  useEffect(() => {\r\n    if (notification.duration === 0) return;\r\n    const timer = setTimeout(\r\n      () => onRemove(notification.id),\r\n      notification.duration || 4000\r\n    );\r\n    return () => clearTimeout(timer);\r\n  }, [notification, onRemove]);\r\n\r\n  const typeStyles = {\r\n    success: {\r\n      bg: \"from-emerald-500/20 to-green-500/20\",\r\n      border: \"border-emerald-400/30\",\r\n      icon: \"✓\",\r\n      iconColor: \"text-emerald-400\",\r\n    },\r\n    error: {\r\n      bg: \"from-red-500/20 to-rose-500/20\",\r\n      border: \"border-red-400/30\",\r\n      icon: \"✕\",\r\n      iconColor: \"text-red-400\",\r\n    },\r\n    info: {\r\n      bg: \"from-blue-500/20 to-cyan-500/20\",\r\n      border: \"border-blue-400/30\",\r\n      icon: \"ℹ\",\r\n      iconColor: \"text-blue-400\",\r\n    },\r\n  };\r\n\r\n  const style = typeStyles[notification.type];\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: -20, scale: 0.95 }}\r\n      animate={{ opacity: 1, y: 0, scale: 1 }}\r\n      exit={{ opacity: 0, y: -20, scale: 0.95 }}\r\n      className={`backdrop-blur-md bg-linear-to-br ${style.bg} border ${style.border} rounded-lg p-4 max-w-sm shadow-xl`}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <div className={`text-xl font-bold ${style.iconColor} shrink-0`}>\r\n          {style.icon}\r\n        </div>\r\n        <p className=\"text-white/90 text-sm font-medium flex-1\">\r\n          {notification.message}\r\n        </p>\r\n        <button\r\n          onClick={() => onRemove(notification.id)}\r\n          className=\"text-white/50 hover:text-white/80 shrink-0 transition\"\r\n        >\r\n          ×\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAiBe,SAAS,sBAAsB,EAC5C,aAAa,EACb,QAAQ,EACmB;IAC3B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,+MAAe;YAAC,MAAK;sBACnB,cAAc,GAAG,CAAC,CAAC,6BAClB,6LAAC;oBAEC,cAAc;oBACd,UAAU;mBAFL,aAAa,EAAE;;;;;;;;;;;;;;;AAQhC;KAjBwB;AAmBxB,SAAS,aAAa,EACpB,YAAY,EACZ,QAAQ,EAIT;;IACC,IAAA,0KAAS;kCAAC;YACR,IAAI,aAAa,QAAQ,KAAK,GAAG;YACjC,MAAM,QAAQ;gDACZ,IAAM,SAAS,aAAa,EAAE;+CAC9B,aAAa,QAAQ,IAAI;YAE3B;0CAAO,IAAM,aAAa;;QAC5B;iCAAG;QAAC;QAAc;KAAS;IAE3B,MAAM,aAAa;QACjB,SAAS;YACP,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,WAAW;QACb;QACA,OAAO;YACL,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,WAAW;QACb;QACA,MAAM;YACJ,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,WAAW;QACb;IACF;IAEA,MAAM,QAAQ,UAAU,CAAC,aAAa,IAAI,CAAC;IAE3C,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;YAAI,OAAO;QAAK;QAC3C,SAAS;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAE;QACtC,MAAM;YAAE,SAAS;YAAG,GAAG,CAAC;YAAI,OAAO;QAAK;QACxC,WAAW,CAAC,iCAAiC,EAAE,MAAM,EAAE,CAAC,QAAQ,EAAE,MAAM,MAAM,CAAC,kCAAkC,CAAC;kBAElH,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAW,CAAC,kBAAkB,EAAE,MAAM,SAAS,CAAC,SAAS,CAAC;8BAC5D,MAAM,IAAI;;;;;;8BAEb,6LAAC;oBAAE,WAAU;8BACV,aAAa,OAAO;;;;;;8BAEvB,6LAAC;oBACC,SAAS,IAAM,SAAS,aAAa,EAAE;oBACvC,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;GA9DS;MAAA"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/preet_hpydpxe/Downloads/team-1/src/app/admin/test/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport BusSeatLayout from \"@/components/BusSeatLayout\";\r\nimport NotificationContainer from \"@/components/NotificationContainer\";\r\n\r\ninterface User {\r\n  id: number;\r\n  email: string;\r\n  name: string;\r\n  phone: string;\r\n  role: string;\r\n  createdAt: string;\r\n  tickets: Array<{\r\n    id: number;\r\n    ticketNumber: string;\r\n    seatNumber: string;\r\n    status: string;\r\n  }>;\r\n}\r\n\r\ninterface Bus {\r\n  id: number;\r\n  busNumber: string;\r\n  totalSeats: number;\r\n  leftSeatsPerRow: number;\r\n  rightSeatsPerRow: number;\r\n  totalRows: number;\r\n  seats: Seat[];\r\n}\r\n\r\ninterface Seat {\r\n  id: number;\r\n  busId: number;\r\n  seatNumber: string;\r\n  row: number;\r\n  position: string;\r\n  status: string;\r\n  allocatedUserId: number | null;\r\n  allocatedAt: string | null;\r\n}\r\n\r\ninterface SeatAllocation {\r\n  id: number;\r\n  seatNumber: string;\r\n  allocatedUserId: number;\r\n  allocatedAt: string;\r\n  bus: {\r\n    id: number;\r\n    busNumber: string;\r\n  };\r\n}\r\n\r\ninterface Notification {\r\n  id: string;\r\n  message: string;\r\n  type: \"success\" | \"error\" | \"info\";\r\n  duration?: number;\r\n}\r\n\r\nexport default function AdminTestPage() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [buses, setBuses] = useState<Bus[]>([]);\r\n  const [seatAllocations, setSeatAllocations] = useState<SeatAllocation[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState<\"users\" | \"buses\" | \"allocate\">(\r\n    \"users\"\r\n  );\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [editingBus, setEditingBus] = useState<Bus | null>(null);\r\n  const [editBusNumber, setEditBusNumber] = useState(\"\");\r\n  const [editTotalSeats, setEditTotalSeats] = useState(\"\");\r\n\r\n  // Bus creation form state\r\n  const [busNumber, setBusNumber] = useState(\"\");\r\n  const [totalSeats, setTotalSeats] = useState(\"40\");\r\n  const [creatingBus, setCreatingBus] = useState(false);\r\n\r\n  // Seat allocation form state\r\n  const [selectedBusId, setSelectedBusId] = useState<number | null>(null);\r\n  const [selectedSeatNumber, setSelectedSeatNumber] = useState<number | null>(null);\r\n  const [selectedUserId, setSelectedUserId] = useState<number | null>(null);\r\n  const [allocatingSeats, setAllocatingSeats] = useState(false);\r\n  const [selectedBusSeats, setSelectedBusSeats] = useState<Seat[]>([]);\r\n  \r\n  // User details form state\r\n  const [userArrival, setUserArrival] = useState(\"\");\r\n  const [userDestination, setUserDestination] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [userAge, setUserAge] = useState(\"\");\r\n  const [userGender, setUserGender] = useState(\"Male\");\r\n\r\n  const addNotification = (message: string, type: \"success\" | \"error\" | \"info\" = \"info\", duration?: number) => {\r\n    const id = Date.now().toString();\r\n    setNotifications((prev) => [...prev, { id, message, type, duration }]);\r\n  };\r\n\r\n  const removeNotification = (id: string) => {\r\n    setNotifications((prev) => prev.filter((notif) => notif.id !== id));\r\n  };\r\n\r\n  // Get token from cookies or localStorage\r\n  useEffect(() => {\r\n    // Since we're using httpOnly cookies, we don't need to get the token\r\n    // The browser will automatically send the cookies with requests\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Fetch users and seat allocations (cookies sent automatically)\r\n      const usersRes = await fetch(\"/api/admin/active-users\", {\r\n        credentials: \"include\", // Important: include cookies\r\n      });\r\n\r\n      if (usersRes.ok) {\r\n        const usersData = await usersRes.json();\r\n        setUsers(usersData.data.users);\r\n        setSeatAllocations(usersData.data.seatAllocations);\r\n      }\r\n\r\n      // Fetch buses (cookies sent automatically)\r\n      const busesRes = await fetch(\"/api/admin/buses\", {\r\n        credentials: \"include\", // Important: include cookies\r\n      });\r\n\r\n      if (busesRes.ok) {\r\n        const busesData = await busesRes.json();\r\n        setBuses(busesData.data);\r\n      }\r\n\r\n      setError(\"\");\r\n    } catch (err) {\r\n      console.error(\"Error fetching data:\", err);\r\n      setError(\"Failed to load data. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateBus = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!busNumber) {\r\n      setError(\"Please enter a bus number\");\r\n      return;\r\n    }\r\n\r\n    setCreatingBus(true);\r\n    try {\r\n      const response = await fetch(\"/api/admin/buses\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          busNumber,\r\n          totalSeats: parseInt(totalSeats),\r\n          leftSeatsPerRow: 2,\r\n          rightSeatsPerRow: 3,\r\n        }),\r\n      });\r\n\r\n      console.log(\"Bus creation response status:\", response.status);\r\n      const responseData = await response.json();\r\n      console.log(\"Bus creation response:\", responseData);\r\n\r\n      if (response.ok || response.status === 201) {\r\n        setBusNumber(\"\");\r\n        setTotalSeats(\"40\");\r\n        await fetchData();\r\n        setError(\"\");\r\n        addNotification(\"Bus created successfully!\", \"success\", 4000);\r\n      } else {\r\n        addNotification(responseData.error || \"Failed to create bus\", \"error\", 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error creating bus:\", err);\r\n      addNotification(\"Error creating bus. Please try again.\", \"error\", 4000);\r\n    } finally {\r\n      setCreatingBus(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectBus = (busId: number) => {\r\n    const selectedBus = buses.find((b) => b.id === busId);\r\n    if (selectedBus) {\r\n      setSelectedBusId(busId);\r\n      const availableSeats = selectedBus.seats.filter(\r\n        (s) => s.status === \"AVAILABLE\"\r\n      );\r\n      setSelectedBusSeats(availableSeats);\r\n    }\r\n  };\r\n\r\n  const handleAllocateSeat = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedBusId || selectedSeatNumber === null || !selectedUserId) {\r\n      setError(\"Please select bus, seat, and user\");\r\n      return;\r\n    }\r\n\r\n    setAllocatingSeats(true);\r\n    try {\r\n      const selectedSeat = selectedBusSeats.find(\r\n        (s) => {\r\n          const seatNum = s.seatNumber.match(/\\d+/)?.[0];\r\n          return parseInt(seatNum || \"0\") === selectedSeatNumber;\r\n        }\r\n      );\r\n\r\n      if (!selectedSeat) {\r\n        setError(\"Selected seat not found\");\r\n        setAllocatingSeats(false);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\"/api/admin/seats\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          seatId: selectedSeat.id,\r\n          userId: selectedUserId,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSelectedBusId(null);\r\n        setSelectedSeatNumber(null);\r\n        setSelectedUserId(null);\r\n        setUserArrival(\"\");\r\n        setUserDestination(\"\");\r\n        setUserName(\"\");\r\n        setUserAge(\"\");\r\n        setUserGender(\"Male\");\r\n        await fetchData();\r\n        setError(\"\");\r\n        addNotification(\"Seat allocated successfully!\", \"success\", 4000);\r\n      } else {\r\n        const errorData = await response.json();\r\n        addNotification(errorData.error || \"Failed to allocate seat\", \"error\", 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error allocating seat:\", err);\r\n      addNotification(\"Error allocating seat. Please try again.\", \"error\", 4000);\r\n    } finally {\r\n      setAllocatingSeats(false);\r\n    }\r\n  };\r\n\r\n  const handleDeallocateSeat = async (seatId: number) => {\r\n    if (!confirm(\"Are you sure you want to deallocate this seat?\")) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"/api/admin/seats\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          seatId,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchData();\r\n        setError(\"\");\r\n        addNotification(\"Seat deallocated successfully!\", \"success\", 4000);\r\n      } else {\r\n        const errorData = await response.json();\r\n        addNotification(errorData.error || \"Failed to deallocate seat\", \"error\", 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error deallocating seat:\", err);\r\n      addNotification(\"Error deallocating seat. Please try again.\", \"error\", 4000);\r\n    }\r\n  };\r\n\r\n  const handleEditBus = (bus: Bus) => {\r\n    setEditingBus(bus);\r\n    setEditBusNumber(bus.busNumber);\r\n    setEditTotalSeats(bus.totalSeats.toString());\r\n  };\r\n\r\n  const handleUpdateBus = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!editingBus) return;\r\n\r\n    try {\r\n      const response = await fetch(`/api/admin/buses/${editingBus.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          busNumber: editBusNumber,\r\n          totalSeats: parseInt(editTotalSeats),\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchData();\r\n        setEditingBus(null);\r\n        addNotification(\"Bus updated successfully!\", \"success\", 4000);\r\n      } else {\r\n        const errorData = await response.json();\r\n        addNotification(errorData.error || \"Failed to update bus\", \"error\", 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error updating bus:\", err);\r\n      addNotification(\"Error updating bus. Please try again.\", \"error\", 4000);\r\n    }\r\n  };\r\n\r\n  const handleDeleteBus = async (busId: number, busNumber: string) => {\r\n    if (!confirm(`Are you sure you want to delete bus ${busNumber}?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/admin/buses/${busId}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"include\",\r\n      });\r\n\r\n      if (response.ok) {\r\n        await fetchData();\r\n        addNotification(\"Bus deleted successfully!\", \"success\", 4000);\r\n      } else {\r\n        const errorData = await response.json();\r\n        addNotification(errorData.error || \"Failed to delete bus\", \"error\", 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error deleting bus:\", err);\r\n      addNotification(\"Error deleting bus. Please try again.\", \"error\", 4000);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 p-8\">\r\n        <div className=\"text-center\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-8\">\r\n      <NotificationContainer notifications={notifications} onRemove={removeNotification} />\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"text-4xl font-bold mb-8 text-gray-900\">\r\n          Admin Control Panel - Seat Management\r\n        </h1>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex gap-4 mb-8\">\r\n          <button\r\n            onClick={() => setActiveTab(\"users\")}\r\n            className={`px-6 py-2 rounded font-semibold transition ${\r\n              activeTab === \"users\"\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-white text-gray-800 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Users ({users.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab(\"buses\")}\r\n            className={`px-6 py-2 rounded font-semibold transition ${\r\n              activeTab === \"buses\"\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-white text-gray-800 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Buses ({buses.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab(\"allocate\")}\r\n            className={`px-6 py-2 rounded font-semibold transition ${\r\n              activeTab === \"allocate\"\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-white text-gray-800 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Allocate Seats\r\n          </button>\r\n        </div>\r\n\r\n        {/* Users Tab */}\r\n        {activeTab === \"users\" && (\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Logged-in Users</h2>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead className=\"bg-gray-200\">\r\n                  <tr>\r\n                    <th className=\"text-left px-4 py-2\">ID</th>\r\n                    <th className=\"text-left px-4 py-2\">Name</th>\r\n                    <th className=\"text-left px-4 py-2\">Email</th>\r\n                    <th className=\"text-left px-4 py-2\">Phone</th>\r\n                    <th className=\"text-left px-4 py-2\">Joined</th>\r\n                    <th className=\"text-left px-4 py-2\">Tickets</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {users.map((user) => (\r\n                    <tr key={user.id} className=\"border-b hover:bg-gray-100\">\r\n                      <td className=\"px-4 py-2\">{user.id}</td>\r\n                      <td className=\"px-4 py-2\">{user.name}</td>\r\n                      <td className=\"px-4 py-2\">{user.email}</td>\r\n                      <td className=\"px-4 py-2\">{user.phone}</td>\r\n                      <td className=\"px-4 py-2\">\r\n                        {new Date(user.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-4 py-2\">{user.tickets.length}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {users.length === 0 && (\r\n              <p className=\"text-center text-gray-500 mt-4\">No users found</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Buses Tab */}\r\n        {activeTab === \"buses\" && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Create Bus Form */}\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-2xl font-bold mb-4\">Create New Bus</h2>\r\n              <form onSubmit={handleCreateBus} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">\r\n                    Bus Number (format: XX-YY-AA-YYYY)\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={busNumber}\r\n                    onChange={(e) => {\r\n                      const input = e.target.value.toUpperCase().replace(/[^0-9A-Z]/g, \"\");\r\n                      setBusNumber(input);\r\n                    }}\r\n                    placeholder=\"e.g., AB12CD3456 or KA24A4782\"\r\n                    maxLength={10}\r\n                    className=\"w-full px-3 py-2 border rounded\"\r\n                  />\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    2 letters-2 numbers-1/2 letters-4 numbers\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">\r\n                    Total Seats\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={totalSeats}\r\n                    onChange={(e) => setTotalSeats(e.target.value)}\r\n                    min=\"1\"\r\n                    max=\"100\"\r\n                    className=\"w-full px-3 py-2 border rounded\"\r\n                  />\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Layout: 2 seats left, 3 seats right per row\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={creatingBus}\r\n                  className=\"w-full bg-green-600 text-white py-2 rounded font-semibold hover:bg-green-700 disabled:bg-gray-400\"\r\n                >\r\n                  {creatingBus ? \"Creating...\" : \"Create Bus\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n\r\n            {/* Buses List */}\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-2xl font-bold mb-4\">Existing Buses</h2>\r\n              <div className=\"space-y-3\">\r\n                {buses.map((bus) => {\r\n                  const bookedSeats = bus.seats.filter(\r\n                    (s) => s.status === \"BOOKED\"\r\n                  ).length;\r\n                  return (\r\n                    <div\r\n                      key={bus.id}\r\n                      className=\"border rounded p-3 hover:bg-gray-50 flex justify-between items-start\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-semibold\">{bus.busNumber}</p>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          Seats: {bookedSeats}/{bus.totalSeats} booked\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          Layout: {bus.leftSeatsPerRow}L + {bus.rightSeatsPerRow}R\r\n                          per row × {bus.totalRows} rows\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => handleEditBus(bus)}\r\n                          className=\"text-blue-600 hover:text-blue-800 font-semibold text-sm px-3 py-1 rounded hover:bg-blue-50\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteBus(bus.id, bus.busNumber)}\r\n                          disabled={bookedSeats > 0}\r\n                          className=\"text-red-600 hover:text-red-800 font-semibold text-sm px-3 py-1 rounded hover:bg-red-50 disabled:text-gray-400 disabled:cursor-not-allowed disabled:bg-transparent\"\r\n                          title={bookedSeats > 0 ? `Cannot delete bus with ${bookedSeats} booked seats` : \"\"}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              {buses.length === 0 && (\r\n                <p className=\"text-center text-gray-500 mt-4\">No buses yet</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Edit Bus Modal */}\r\n        {editingBus && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n              <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4\">\r\n                <h3 className=\"text-xl font-bold mb-4\">Edit Bus</h3>\r\n                <form onSubmit={handleUpdateBus} className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Bus Number\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editBusNumber}\r\n                      onChange={(e) => {\r\n                        const input = e.target.value.toUpperCase().replace(/[^0-9A-Z]/g, \"\");\r\n                        setEditBusNumber(input);\r\n                      }}\r\n                      maxLength={10}\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Total Seats\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={editTotalSeats}\r\n                      onChange={(e) => setEditTotalSeats(e.target.value)}\r\n                      min=\"1\"\r\n                      max=\"100\"\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex gap-4 pt-4\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"flex-1 bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700\"\r\n                    >\r\n                      Update\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setEditingBus(null)}\r\n                      className=\"flex-1 bg-gray-400 text-white py-2 rounded font-semibold hover:bg-gray-500\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n        )}\r\n\r\n        {/* Allocate Seats Tab */}\r\n        {activeTab === \"allocate\" && (\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-2xl font-bold mb-6\">Allocate Seats to Users</h2>\r\n\r\n            <form onSubmit={handleAllocateSeat} className=\"space-y-6\">\r\n              {/* Bus Selection */}\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-2\">\r\n                  Select Bus\r\n                </label>\r\n                <select\r\n                  value={selectedBusId || \"\"}\r\n                  onChange={(e) => handleSelectBus(parseInt(e.target.value))}\r\n                  className=\"w-full px-3 py-2 border rounded\"\r\n                >\r\n                  <option value=\"\">-- Choose Bus --</option>\r\n                  {buses.map((bus) => (\r\n                    <option key={bus.id} value={bus.id}>\r\n                      {bus.busNumber}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Seat Selection with Layout */}\r\n              {selectedBusId && (\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-2\">\r\n                    Select Seat\r\n                  </label>\r\n                  <BusSeatLayout\r\n                    busId={selectedBusId}\r\n                    rows={buses.find((b) => b.id === selectedBusId)?.totalRows || 8}\r\n                    leftSeats={buses.find((b) => b.id === selectedBusId)?.leftSeatsPerRow || 2}\r\n                    rightSeats={buses.find((b) => b.id === selectedBusId)?.rightSeatsPerRow || 3}\r\n                    onSelectSeat={setSelectedSeatNumber}\r\n                    selectedSeatNumber={selectedSeatNumber}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* User Details Section */}\r\n              <div className=\"border-t pt-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Passenger Details</h3>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Passenger Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={userName}\r\n                      onChange={(e) => setUserName(e.target.value)}\r\n                      placeholder=\"e.g., John Doe\"\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Age\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={userAge}\r\n                      onChange={(e) => setUserAge(e.target.value)}\r\n                      min=\"1\"\r\n                      max=\"120\"\r\n                      placeholder=\"e.g., 25\"\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Gender\r\n                    </label>\r\n                    <select\r\n                      value={userGender}\r\n                      onChange={(e) => setUserGender(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    >\r\n                      <option value=\"Male\">Male</option>\r\n                      <option value=\"Female\">Female</option>\r\n                      <option value=\"Other\">Other</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Select or Add User\r\n                    </label>\r\n                    <select\r\n                      value={selectedUserId || \"\"}\r\n                      onChange={(e) => setSelectedUserId(parseInt(e.target.value))}\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    >\r\n                      <option value=\"\">-- Choose Existing User --</option>\r\n                      {users.map((user) => (\r\n                        <option key={user.id} value={user.id}>\r\n                          {user.name} ({user.email})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Arrival Location\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={userArrival}\r\n                      onChange={(e) => setUserArrival(e.target.value)}\r\n                      placeholder=\"e.g., Delhi\"\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold mb-1\">\r\n                      Destination\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={userDestination}\r\n                      onChange={(e) => setUserDestination(e.target.value)}\r\n                      placeholder=\"e.g., Mumbai\"\r\n                      className=\"w-full px-3 py-2 border rounded\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"flex gap-4\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={allocatingSeats || !selectedBusId || selectedSeatNumber === null || !selectedUserId}\r\n                  className=\"flex-1 bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700 disabled:bg-gray-400\"\r\n                >\r\n                  {allocatingSeats ? \"Allocating...\" : \"Allocate Seat\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n            {/* Seat Allocations List */}\r\n            <div className=\"mt-8 border-t pt-6\">\r\n              <h3 className=\"text-xl font-bold mb-4\">\r\n                Current Seat Allocations ({seatAllocations.length})\r\n              </h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead className=\"bg-gray-200\">\r\n                    <tr>\r\n                      <th className=\"text-left px-4 py-2\">Bus</th>\r\n                      <th className=\"text-left px-4 py-2\">Seat</th>\r\n                      <th className=\"text-left px-4 py-2\">Allocated User</th>\r\n                      <th className=\"text-left px-4 py-2\">Allocated At</th>\r\n                      <th className=\"text-left px-4 py-2\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {seatAllocations.map((alloc) => {\r\n                      const allocatedUser = users.find(\r\n                        (u) => u.id === alloc.allocatedUserId\r\n                      );\r\n                      return (\r\n                        <tr key={alloc.id} className=\"border-b hover:bg-gray-100\">\r\n                          <td className=\"px-4 py-2\">{alloc.bus.busNumber}</td>\r\n                          <td className=\"px-4 py-2\">{alloc.seatNumber}</td>\r\n                          <td className=\"px-4 py-2\">\r\n                            {allocatedUser?.name || \"Unknown\"}\r\n                          </td>\r\n                          <td className=\"px-4 py-2\">\r\n                            {new Date(alloc.allocatedAt).toLocaleString()}\r\n                          </td>\r\n                          <td className=\"px-4 py-2\">\r\n                            <button\r\n                              onClick={() => handleDeallocateSeat(alloc.id)}\r\n                              className=\"text-red-600 hover:text-red-800 font-semibold\"\r\n                            >\r\n                              Release\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {seatAllocations.length === 0 && (\r\n                <p className=\"text-center text-gray-500 mt-4\">\r\n                  No seat allocations yet\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}