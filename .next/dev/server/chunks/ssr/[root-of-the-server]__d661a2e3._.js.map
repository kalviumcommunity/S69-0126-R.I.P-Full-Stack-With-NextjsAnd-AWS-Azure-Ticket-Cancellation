{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/indhuja/Desktop/ticket_cancel/S69-0126-R.I.P-Full-Stack-With-NextjsAnd-AWS-Azure-Ticket-Cancellation/src/app/layout.tsx"],"sourcesContent":["// \"use client\";\n// import Link from \"next/link\";\n// import { usePathname } from \"next/navigation\";\n// import Cookies from \"js-cookie\";\n// import { useEffect, useState } from \"react\";\n// import \"./globals.css\";\n\n// export default function RootLayout({\n//   children,\n// }: {\n//   children: React.ReactNode;\n// }) {\n//   const pathname = usePathname();\n//   const [isLoggedIn, setIsLoggedIn] = useState(false);\n//   const [mounted, setMounted] = useState(false);\n\n//   useEffect(() => {\n//     const timeoutId = setTimeout(() => {\n//       setMounted(true);\n//       const token = Cookies.get(\"token\");\n//       setIsLoggedIn(!!token);\n//     }, 0);\n\n//     return () => clearTimeout(timeoutId);\n//   }, [pathname]);\n\n//   const handleLogout = () => {\n//     Cookies.remove(\"token\");\n//     Cookies.remove(\"role\");\n//     window.location.href = \"/\";\n//   };\n\n//   return (\n//     <html lang=\"en\">\n//       <body className=\"bg-[#0F172A] text-slate-200 antialiased selection:bg-rose-500/30 min-h-screen flex flex-col\">\n//         {/* Modern Glassmorphism Navbar */}\n//         <nav className=\"sticky top-0 z-50 flex items-center justify-between px-8 py-4 bg-[#0F172A]/80 backdrop-blur-md border-b border-slate-800\">\n//           <div className=\"flex items-center gap-12\">\n//             <Link href=\"/\" className=\"text-xl font-bold tracking-tighter text-white hover:opacity-80 transition-opacity\">\n//               R.I.P<span className=\"text-rose-500\">.</span>\n//             </Link>\n            \n//             <div className=\"hidden md:flex gap-8 text-xs font-bold uppercase tracking-widest\">\n//               <Link href=\"/\" className=\"hover:text-rose-400 transition-colors\">Home</Link>\n//               {mounted && isLoggedIn && (\n//                 <Link href=\"/dashboard\" className=\"hover:text-rose-400 transition-colors\">Dashboard</Link>\n//               )}\n//             </div>\n//           </div>\n\n//           <div className=\"flex items-center gap-4\">\n//             {!mounted ? (\n//               <div className=\"h-10 w-24 bg-slate-800 animate-pulse rounded-lg\" />\n//             ) : !isLoggedIn ? (\n//               <Link\n//                 href=\"/login\"\n//                 className=\"bg-rose-600 hover:bg-rose-500 text-white px-6 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-rose-900/20\"\n//               >\n//                 SIGN IN\n//               </Link>\n//             ) : (\n//               <button\n//                 onClick={handleLogout}\n//                 className=\"text-xs font-bold text-slate-400 hover:text-rose-500 transition-colors uppercase tracking-widest\"\n//               >\n//                 Logout\n//               </button>\n//             )}\n//           </div>\n//         </nav>\n\n//         {/* Main Content */}\n//         <div className=\"flex-grow\">\n//           {children}\n//         </div>\n//       </body>\n//     </html>\n//   );\n// }\n\n\"use client\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport Cookies from \"js-cookie\";\nimport { useEffect, useState } from \"react\";\nimport \"./globals.css\";\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const pathname = usePathname();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [role, setRole] = useState<string | null>(null);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // Ensuring the component is mounted to avoid hydration mismatch\n    setMounted(true);\n    \n    const token = Cookies.get(\"token\");\n    const userRole = Cookies.get(\"role\");\n    \n    setIsLoggedIn(!!token);\n    setRole(userRole || null);\n  }, [pathname]); // Re-check when the user changes pages\n\n  const handleLogout = () => {\n    Cookies.remove(\"token\");\n    Cookies.remove(\"role\");\n    window.location.href = \"/\";\n  };\n\n  return (\n    <html lang=\"en\">\n      <body className=\"bg-[#0F172A] text-slate-200 antialiased selection:bg-rose-500/30 min-h-screen flex flex-col\">\n        {/* Modern Glassmorphism Navbar */}\n        <nav className=\"sticky top-0 z-50 flex items-center justify-between px-8 py-4 bg-[#0F172A]/80 backdrop-blur-md border-b border-slate-800\">\n          <div className=\"flex items-center gap-12\">\n            <Link href=\"/\" className=\"text-xl font-bold tracking-tighter text-white hover:opacity-80 transition-opacity\">\n              R.I.P<span className=\"text-rose-500\">.</span>\n            </Link>\n            \n            <div className=\"hidden md:flex gap-8 text-[10px] font-black uppercase tracking-[0.2em]\">\n              <Link href=\"/\" className=\"hover:text-rose-400 transition-colors\">Home</Link>\n              \n              {mounted && isLoggedIn && (\n                <>\n                  {/* Show Admin Terminal only if role is admin */}\n                  {role === \"admin\" ? (\n                    <Link href=\"/admin\" className=\"text-blue-400 hover:text-blue-300 transition-colors\">\n                      Admin Terminal\n                    </Link>\n                  ) : (\n                    <Link href=\"/dashboard\" className=\"hover:text-rose-400 transition-colors\">\n                      Dashboard\n                    </Link>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            {!mounted ? (\n              <div className=\"h-10 w-24 bg-slate-800 animate-pulse rounded-lg\" />\n            ) : !isLoggedIn ? (\n              <Link\n                href=\"/login\"\n                className=\"bg-rose-600 hover:bg-rose-500 text-white px-6 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-rose-900/20\"\n              >\n                SIGN IN\n              </Link>\n            ) : (\n              <div className=\"flex items-center gap-6\">\n                {/* Visual Role Indicator */}\n                <span className={`text-[9px] font-black px-2 py-1 rounded border ${\n                  role === 'admin' ? 'border-blue-500/30 text-blue-500 bg-blue-500/5' : 'border-rose-500/30 text-rose-500 bg-rose-500/5'\n                }`}>\n                  {role?.toUpperCase()}\n                </span>\n                \n                <button\n                  onClick={handleLogout}\n                  className=\"text-xs font-bold text-slate-400 hover:text-rose-500 transition-colors uppercase tracking-widest\"\n                >\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n        </nav>\n\n        {/* Main Content */}\n        <div className=\"flex-grow\">\n          {children}\n        </div>\n\n        {/* Global Footer */}\n        <footer className=\"p-8 border-t border-slate-800 text-center\">\n          <p className=\"text-slate-600 text-[10px] font-bold uppercase tracking-[0.4em]\">\n            Secure Infrastructure for Liquid Asset Recovery\n          </p>\n        </footer>\n      </body>\n    </html>\n  );\n}"],"names":[],"mappings":"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"}}]
}