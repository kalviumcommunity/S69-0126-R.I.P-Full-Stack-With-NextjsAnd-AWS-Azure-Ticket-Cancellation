{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/indhuja/Desktop/ticket_cancel/S69-0126-R.I.P-Full-Stack-With-NextjsAnd-AWS-Azure-Ticket-Cancellation/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport Cookies from \"js-cookie\";\n\nexport default function UserDashboard() {\n  const [myRequests, setMyRequests] = useState<any[]>([]);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    // 1. Get current user's identity (Assuming you stored email in cookies or just use 'user' for demo)\n    const email = Cookies.get(\"user_email\") || \"user@protocol.com\"; \n    setUserEmail(email);\n\n    // 2. Load requests from the shared ledger\n    const loadRequests = () => {\n      const allRequests = JSON.parse(localStorage.getItem(\"refund_requests\") || \"[]\");\n      // For this demo, we show all, but in real apps, we filter by email\n      setMyRequests(allRequests);\n    };\n\n    loadRequests();\n    window.addEventListener(\"focus\", loadRequests);\n    return () => window.removeEventListener(\"focus\", loadRequests);\n  }, []);\n\n  if (!mounted) return null;\n\n  return (\n    <main className=\"min-h-screen bg-[#0a0a0a] text-gray-100 p-8\">\n      <div className=\"max-w-5xl mx-auto\">\n        <header className=\"flex justify-between items-center mb-12 border-b border-slate-800 pb-8\">\n          <div>\n            <h1 className=\"text-4xl font-black italic tracking-tighter text-white\">\n              MY <span className=\"text-rose-500\">REFUNDS</span>\n            </h1>\n            <p className=\"text-slate-500 text-[10px] font-bold uppercase tracking-[0.3em] mt-2\">\n              Identity: {userEmail}\n            </p>\n          </div>\n          <Link href=\"/dashboard/request\" className=\"bg-rose-600 hover:bg-rose-500 text-white px-6 py-3 rounded-xl font-bold text-[10px] uppercase tracking-widest transition-all\">\n            + New Request\n          </Link>\n        </header>\n\n        <div className=\"space-y-6\">\n          {myRequests.length === 0 ? (\n            <div className=\"border-2 border-dashed border-slate-800 rounded-[2rem] p-20 text-center\">\n              <p className=\"text-slate-600 font-bold uppercase tracking-widest text-xs\">No active protocols found.</p>\n            </div>\n          ) : (\n            myRequests.map((req, index) => (\n              <div key={`${req.id}-${index}`} className=\"bg-slate-900/40 border border-slate-800 rounded-[2rem] p-8 hover:border-slate-700 transition-all\">\n                <div className=\"flex justify-between items-start mb-8\">\n                  <div>\n                    <span className=\"text-[10px] bg-slate-800 px-3 py-1 rounded text-slate-400 font-bold tracking-widest uppercase\">ID: {req.id}</span>\n                    <p className=\"text-3xl font-black text-white mt-4 uppercase\">Refund Recovery</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className={`text-[10px] font-black uppercase tracking-widest px-4 py-1.5 rounded-full border ${\n                      req.status === 'approved' ? \"bg-emerald-500/10 text-emerald-500 border-emerald-500/20\" :\n                      req.status === 'declined' ? \"bg-rose-500/10 text-rose-500 border-rose-500/20\" :\n                      \"bg-amber-500/10 text-amber-500 border-amber-500/20 animate-pulse\"\n                    }`}>\n                      {req.status}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Progress Visualizer */}\n                <div className=\"grid grid-cols-4 gap-4 mt-12\">\n                  {['Submitted', 'Verified', 'Liquidity', 'Success'].map((step, i) => {\n                    // Logic to highlight progress based on status\n                    const isCompleted = (req.status === 'approved' && i <= 3) || (req.status === 'pending' && i <= 0);\n                    const isDeclined = req.status === 'declined';\n\n                    return (\n                      <div key={step} className=\"space-y-3\">\n                        <div className={`h-1.5 rounded-full transition-all duration-1000 ${\n                          isDeclined && i > 0 ? 'bg-rose-900/20' : \n                          isCompleted ? 'bg-rose-500 shadow-[0_0_10px_rgba(244,63,94,0.4)]' : 'bg-slate-800'\n                        }`} />\n                        <p className={`text-[9px] font-black uppercase tracking-tighter ${\n                          isCompleted ? 'text-rose-400' : 'text-slate-600'\n                        }`}>{step}</p>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,oGAAoG;QACpG,MAAM,QAAQ,gKAAO,CAAC,GAAG,CAAC,iBAAiB;QAC3C,aAAa;QAEb,0CAA0C;QAC1C,MAAM,eAAe;YACnB,MAAM,cAAc,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,sBAAsB;YAC1E,mEAAmE;YACnE,cAAc;QAChB;QAEA;QACA,OAAO,gBAAgB,CAAC,SAAS;QACjC,OAAO,IAAM,OAAO,mBAAmB,CAAC,SAAS;IACnD,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;;wCAAyD;sDAClE,8OAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;8CAErC,8OAAC;oCAAE,WAAU;;wCAAuE;wCACvE;;;;;;;;;;;;;sCAGf,8OAAC,uKAAI;4BAAC,MAAK;4BAAqB,WAAU;sCAA+H;;;;;;;;;;;;8BAK3K,8OAAC;oBAAI,WAAU;8BACZ,WAAW,MAAM,KAAK,kBACrB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;sCAA6D;;;;;;;;;;+BAG5E,WAAW,GAAG,CAAC,CAAC,KAAK,sBACnB,8OAAC;4BAA+B,WAAU;;8CACxC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAK,WAAU;;wDAAgG;wDAAK,IAAI,EAAE;;;;;;;8DAC3H,8OAAC;oDAAE,WAAU;8DAAgD;;;;;;;;;;;;sDAE/D,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAE,WAAW,CAAC,iFAAiF,EAC9F,IAAI,MAAM,KAAK,aAAa,6DAC5B,IAAI,MAAM,KAAK,aAAa,oDAC5B,oEACA;0DACC,IAAI,MAAM;;;;;;;;;;;;;;;;;8CAMjB,8OAAC;oCAAI,WAAU;8CACZ;wCAAC;wCAAa;wCAAY;wCAAa;qCAAU,CAAC,GAAG,CAAC,CAAC,MAAM;wCAC5D,8CAA8C;wCAC9C,MAAM,cAAc,AAAC,IAAI,MAAM,KAAK,cAAc,KAAK,KAAO,IAAI,MAAM,KAAK,aAAa,KAAK;wCAC/F,MAAM,aAAa,IAAI,MAAM,KAAK;wCAElC,qBACE,8OAAC;4CAAe,WAAU;;8DACxB,8OAAC;oDAAI,WAAW,CAAC,gDAAgD,EAC/D,cAAc,IAAI,IAAI,mBACtB,cAAc,sDAAsD,gBACpE;;;;;;8DACF,8OAAC;oDAAE,WAAW,CAAC,iDAAiD,EAC9D,cAAc,kBAAkB,kBAChC;8DAAG;;;;;;;2CAPG;;;;;oCAUd;;;;;;;2BAnCM,GAAG,IAAI,EAAE,CAAC,CAAC,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;AA4C5C"}}]
}